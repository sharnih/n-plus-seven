<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>N+7</title>

    <meta name="description" content="A simple exercise template." />
    <!-- styles -->
    <style></style>
  </head>
  <body>
    <h1>N+7</h1>
    <h2>Source text</h2>
    <p id="sourceText"></p>
    <h2>New text</h2>
    <p id="newText"></p>
    <!-- script -->
    <script>
      let nouns;
      const sourceText = `My object in writing this little book is to show you how you may prepare
and cook your daily food, so as to obtain from it the greatest amount of
nourishment at the least possible expense; and thus, by skill and
economy, add, at the same time, to your comfort and to your
comparatively slender means. The Recipes which it contains will afford
sufficient variety, from the simple every-day fare to more tasty dishes
for the birthday, Christmas-day, or other festive occasions.

In order to carry out my instructions properly, a few utensils will be
necessary. Industry, good health, and constant employment, have, in many
instances, I trust, enabled those whom I now address to lay by a little
sum of money. A portion of this will be well spent in the purchase of
the following articles:--A cooking-stove, with an oven at the side, or
placed under the grate, which should be so planned as to admit of the
fire being open or closed at will; by this contrivance much heat and
fuel are economized; there should also be a boiler at the back of the
grate. By this means you would have hot water always ready at hand, the
advantage of which is considerable. Such poor men's cooking-stoves
exist, on a large scale, in all modern-built lodging-houses. Also, a
three-gallon iron pot with a lid to it, a one-gallon saucepan, a
two-quart ditto, a frying-pan, a gridiron, and a strong tin baking-dish.

Here is a list of the cost prices at which the above-named articles, as
well as a few others equally necessary, may be obtained of all
ironmongers:--`;
      const wordOffset = 7;
      function generateNewText(text) {
        let splitText = text.split(" ");
        let newText = "";
        for (const word of splitText) {
          let indexInList = nouns.indexOf(word);
          let newWord;
          if (indexInList > -1) {
            if (nouns[indexInList + wordOffset]) {
              newWord = nouns[indexInList + wordOffset];
            }
          } else {
            newWord = word;
          }
          if (newText === "") {
            newText = newWord;
          } else {
            newText = newText + " " + newWord;
          }
        }
        return newText;
      }
      function initPoem(nounList) {
        nouns = nounList.split(/\r?\n/);
        newText = generateNewText(sourceText);
        document.getElementById("sourceText").innerHTML = sourceText;
        document.getElementById("newText").innerHTML = newText;
      }
      fetch("nounlist.txt")
        .then((response) => response.text())
        .then((textContent) => initPoem(textContent));
    </script>
    <!-- include the Glitch button to show what the webpage is about and
          to make it easier for folks to view source and remix -->
    <div
      class="glitchButton"
      style="position: fixed; top: 20px; right: 20px"
    ></div>
    <script src="https://button.glitch.me/button.js" defer></script>
  </body>
</html>
